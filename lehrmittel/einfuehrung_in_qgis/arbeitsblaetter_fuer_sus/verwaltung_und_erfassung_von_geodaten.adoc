= Einführung in QGIS 3: Erfassung und Verwaltung von Daten (Kapitel 3)
OpenSchoolMaps.ch -- Freie Lernmaterialien zu freien Geodaten und Karten
:xrefstyle: short
:imagesdir: ../../../bilder/
include::../../../snippets/lang/de.adoc[]
include::../../../snippets/suppress_title_page.adoc[]

*Ein Arbeitsblatt für Schülerinnen und Schüler*

Bestimmt hast du schon mal Daten
in einer Tabelle
(z.B. einer Exceltabelle)
erfasst.
Was waren das für Daten
die du da erfasst hast?
Woher kamen die Werte,
die du eingetragen hast?
Woher könnten allgemein
ausgedrückt Werte kommen,
die in einer Tabelle abgespeichert werden.
Mache dir als Einstieg
in dieses Kapitel
zwei bis drei Minuten lang Gedanken
zu diesen Fragestellungen.
Notiere diese stichwortartig
auf deinem Arbeitsblatt.
Gehe erst dann weiter in diesem Kapitel.

== Lernziele der Theorie

Dieses Kapitel hat folgende Lernziele:

* den Aufbau einer Tabelle
in eigenen Worten erklären
* mindestens 4 Datenerfassungsarten
ohne Hilfsmittel aufzählen
* in eigenen Worten aufzeigen,
wieso es sich lohnt,
Geld und Zeit in die Datenerfassung
und -verwaltung zu stecken

== Theorie

Im Kapitel Geodaten
und Raumbezug haben wir gesehen,
dass es generell zwei Arten gibt,
um Geodaten abzuspeichern:
In Form von Vektor-
und von Rasterdaten.
Da du wahrscheinlich
bei zukünftigen GIS-Projekten
die Daten,
die du erfasst,
als Vektordaten abspeichern wirst,
werden wir uns in diesem Kapitel
auch grösstenteils mit
der Erfassung von Vektordaten beschäftigen.

=== Tabelle

Zuerst werden wir uns
aber allgemein mit der Erfassung
von Werten in Tabellen beschäftigen.
Eine Tabelle besteht aus
Zeilen und aus Spalten.
Die Zeile verläuft horizontal
und in ihr werden
die verschiedenen Datensätze
gespeichert.
Die Spalte verläuft vertikal
und in ihr wird
eine gewisse Eigenschaft
eines Datensatzes abgelegt.

Tabellen werden sehr oft verwendet,
um Werte von Messungen abzuspeichern.
In einer Tabelle können
z.B. die Anzahl Schüler
einer Klasse abgespeichert werden.
Die Anzahl Schüler
einer Klasse können gezählt werden.
Zusätzlich könnte z.B. auch noch
der Klassenlehrer in der Tabelle
erfasst werden.
Die entsprechende Tabelle
würde dann wie folgt aussehen.

[%header,cols=3*]
|===
|Klasse
|Anzahl Schüler
|KlassenlehrerIn

|1c
|22
|Gaby Meyer

|2b
|24
|Franz Peter

|...
|...
|...
|===

Die Namen der Spalten
(z.B. Klasse, Anzahl Schüler…)
werden *Attribute* genannt.

Bei Geodaten muss zusätzlich
zu den Sachattributen
auch noch die Geometrie
abgespeichert werden.
In den bisherigen Übungen
hast du bereits das Shapefile
als Speicherart für Geodaten
kennengelernt.
Beim Shapefile werden
die Geometrie und die Sachdaten
in unterschiedlichen Dateien abgespeichert.

Öffne im Windows Explorer den Ordner,
in welchem die Daten
für die Übung abgespeichert sind
und schaue dir die Daten
mal etwas genauer an.
Zusätzlich zur Hauptdatei
mit der Endung _.shp_
gibt es noch weitere Dateien
mit dem gleichen Namen
aber anderer Endung.
In der Datei mit der Endung _.dbf_
sind z.B. die Sachdaten
und in der Datei mit der Endung _.prj_
das Koordinatensystem abgespeichert.
Alle diese Dateien zusammen
bilden das Shapefile.

Geodaten können auch
in speziellen Datenbanken,
sogenannten *Geodatenbanken*
abgespeichert werden.
Diese Datenbanken funktionieren
ähnlich wie normale Datenbanken,
bieten aber zusätzlich
noch die Möglichkeit,
neben Sachinformationen
auch die Geometrie zu verwalten.
Normale Datenbanken können dies nicht.
Beispiele für Geodatenbanken
sind z.B. _Oracle Spatial_
und _PostGIS_.

=== Datenerfassung

Jetzt hast du gelernt,
in welcher Form Geodaten
abgespeichert werden können.
Aber wie kommt man von den Objekten
in der realen Welt denn
überhaupt zu den Informationen,
die abgespeichert werden sollen?

image:einfuehrung_in_qgis/ausrufezeichen.png["Ausrufe Zeichen", 15, 15]
_Überlege zwei bis drei Minuten,
aus welchen Quellen
die Daten stammen könnten
und welche Erfassungsmethoden du kennst.
Gehe erst dann im Text weiter._

Es gibt viele Methoden,
um Geodaten erfassen zu können.
Auf einige möchten wir kurz eingehen.

. Im Teil 1 dieses Leitprogramms
wurde das Beispiel mit dem Mobiltelefon
mit integriertem GPS verwendet.
GPS ist neben dem Messen mit Tachymetern
eine beliebte Methode
in der Vermessung,
um die Geometrie von Objekten
auf dem Feld zu erfassen.
Oft muss das Resultat
von Messungen als Textfile,
auf welchem Koordinaten-
und Attributwerte stehen,
ins GIS-Projekt eingelesen werden.
. Luftbilder werden oft
als Hintergrundbild verwendet.
. Oft liegen Pläne noch
in analoger Form,
d.h. als Papierkarte vor.
Um diese Pläne
in eine digitale Form zu bringen,
müssen sie eingescannt werden.
Nach dem Scannen
sind die Daten zwar digital,
haben aber noch keinen Raumbezug.
Um einen Raumbezug zu erhalten,
müssen sie zusätzlich
georeferenziert werden
(siehe Kapitel Geodaten und Raumbezug).
. Luftbilder und digitalisierte
und georeferenzierte Pläne
bieten oft auch eine gute Grundlage,
um Objekte ins Vektorformat umzuwandeln.
Dieser Vorgang wird auch
Vektorisieren genannt.
. Gewisse Daten wurden bereits
im Rahmen eines anderen
GIS-Projektes erhoben.
Diese Daten können teilweise
ohne Anpassungen übernommen werden.
Oft müssen jedoch
z.B. noch das Datenformat
oder das Koordinatensystem
angepasst oder zusätzliche Attribute
erfasst werden.
. Statistische Ämter publizieren
eine Vielzahl von statistischen Erhebungen.
Diese statistischen Daten
können übernommen
und mit den entsprechenden
geometrischen Objekten,
wie z.B. den Kantonsgrenzen,
verknüpft werden,
um einen Raumbezug zu erhalten.

Die Datenerfassung und –verwaltung
nimmt meist sehr viel Zeit in Anspruch.
Der Aufwand lohnt sich aber,
denn die Daten können als Kernstück
des GIS angesehen werden.
Ist die Qualität der Daten schlecht
oder sind die Daten unvollständig
oder veraltet,
so sind auch die Resultate
der Auswertungen oder
die aus den Daten erstellten Karten
entsprechend schlecht.

Die Daten haben im Vergleich
zu den anderen GIS-Komponenten
Software und Hardware
eine sehr lange Lebensdauer.
Während immer bessere
und schnellere Computer
auf den Markt kommen
und die Softwareprodukte
nach einigen Jahren
meist schon veraltet sind,
können die Daten
über Jahrzehnte hinweg
verwendet werden.

Da die Erfassung sehr aufwändig ist,
ist man natürlich
auch daran interessiert,
die Daten möglichst lange
verwenden zu können.
Um dies zu gewährleisten,
ist eine regelmässige Nachführung
genauso wichtig wie die gute
und saubere Erfassung der Daten.
Wobei bei der Erfassung der Daten
nicht der Grundsatz gilt
„so genau wie möglich“
sondern „so genau wie nötig“.

== Übung 3

Im Theorieteil hast du gelernt,
wie du zu den Geodaten kommst,
die du für dein GIS brauchst.
Im Rahmen dieser Übung wirst du
Daten aus einem Textfile in dein GIS einbinden,
sodass sie einen Raumbezug erhalten
und geographisch dargestellt werden können.
Ausserdem wirst du Daten
in einem bestehenden Datensatz nachführen.

=== Lernziele

Wenn du die Übung gelöst hast,
hast du folgendes gelernt:

* ein Textfile mit Koordinatenwerten
in einem GIS räumlich visualisieren
* einen Layer anhand
eines Attributwertes beschriften
* neue Objekte erfassen
(Geometrie und Sachattribute)

=== Übung

==== Objekt aus Textfile

Die Lage der Kantonshauptorte
ist im Textfile Hauptorte.txt abgespeichert.
Öffne diese Datei in einem Texteditor
und schaue dir den Inhalt etwas genauer an.

image:einfuehrung_in_qgis/ausrufezeichen.png["Ausrufe Zeichen", 15, 15]
_In welcher Form ist die Lage
der Hauptorte abgespeichert
und wie sind die Informationen
voneinander getrennt?
Schreibe deine Erkenntnisse
auf dein Arbeitsblatt._

Das Werkzeug _Add Delimited Text Layer_
um Koordinatenwerte
aus einem Textfile zu lesen,
kann in der Werkzeugleiste _Manage Layers Toolbar_
gefunden werden.
Wenn du nicht mehr weisst,
wie man Werkzeuleisten einblendet,
schaue dir nochmals Kapitel 1 an.

Öffne das neue Werkzeug
und gib zuerst die Art
des Trennzeichens ein,
welches die Informationen
im Textfile voneinander trennt
(siehe Resultat der letzten Aufgabe).

Klicke dann auf den … -Button
und wähle die Textdatei _Hautporte.txt_ aus.
Das Werkzeug trennt das Textfile
nun automatisch in verschiedene Felder auf,
wobei das gewählte Trennzeichen
den Ausschlag gibt,
wo das neue Feld beginnt.

Unter der Geometrie erscheint nun
automatisch ein Vorschlag,
welches Feld als X-Feld
und welches als Y-Feld
benutzt werden soll.
Vergleiche den Vorschlag
mit deinen Überlegungen.
Falls du nicht einverstanden bist,
ändere den Eintrag.
Klicke anschliessend auf den OK-Button
um die Hauptorte im Projekt anzuzeigen.

Um später auch räumliche Analysen
mit dem neuen Layer Hauptorte
durchführen zu können,
muss dem Layer noch das gleiche Koordinatenbezugssystem
wie den restlichen Layern
zugeordnet werden.
Öffne die _Properties_ der Hauptorte
und suche unter _Source:
das richtige _CRS_/_KBS_.
Wähle das Koordinatensystem
CH1903 /LV03 mit der EPSG-Nr. 21781.

Wenn du nun die Attributstabelle öffnest,
siehst du die Informationen des Textfiles
in einer Tabelle dargestellt.
Zusätzlich wurde aus den ausgewählten Zahlen
für die X- und Y-Koordinaten
eine Position in der Karte berechnet
und dort ein Punkt abgesetzt.
