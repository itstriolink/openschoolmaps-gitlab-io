= Mit uMap eine Story-Map mit Bildern erstellen
OpenSchoolMaps.ch -- Freie Lernmaterialien zu freien Geodaten und Karten.
//
// HACK: suppress title page.
// See https://github.com/asciidoctor/asciidoctor-pdf/issues/95
ifdef::backend-pdf[:notitle:]

ifdef::backend-pdf[]
[discrete]
= {doctitle}

{author}
endif::[]
// END OF suppress title page HACK

*Eine Anleitung für alle an Mapping-Interessierten*

//(Siehe auch Abschnitt https://dinacon.ch/wp-content/uploads/sites/4/2017/10/dinacon_17.pdf#Outline0.3[Erstellen einer Fotostory mit uMap] im Foliensatz des DINAcon-Vortrags https://dinacon.ch/sessions/2017/osm/[Nutzung von OpenStreetMap für Standortkarten und Online-Stories].)

Das Ziel dieser Anleitung ist es, mit uMap im Rahmen des OpenSchoolMaps-Projekts eine Story-Map zu erstellen. Eine Story-Map ist eine Karte mit Punkten, zu denen periodisch zu einem der Punkte mehr Informationen wie Bilder und Beschreibungen angezeigt werden.
Und so wird so eine Karte erstellt:

.Kartendaten (C) OpenStreetMap Contributors
[caption=""]
image::../../bilder/umap/story-map_erstellen/endprodukt.png[]

Die volle Beispielkarte sehen Sie unter https://umap.osm.ch/de/map/karte-von-rapperswil-sg_1377#15/47.2188/8.8119. Eventuell müssen Sie noch auf die blauen Stecknadeln reinzoomen.

== Vorbereitung
Zuerst brauchen Sie einen Web-Browser in dem Sie die Seite öffnen können. 
Überlegen Sie sich im Vorfeld, wie das Endprodukt in etwa aussehen soll und notieren Sie sich, welche Punkte Sie darin haben wollen. Dieser Schritt ist natürlich optional, aber sehr nützlich, um später schneller voranzukommen.

== Erstellen der Story-Map

  * Besuchen Sie die Seite umap.osm.ch.
  * Erstellen Sie eine neue Karte. +
+
image::../../bilder/umap/story-map_erstellen/uMap_homepage.png[]
  * Tragen Sie Punkte image:../../bilder/umap/stecknadel_icon.PNG["Punkte-Icon", 25, 25] ein, die Sie gerne auf der Map hätten. Sie können auch Linien image:../../bilder/umap/weg_icon.PNG["Linien-Icon", 25, 25] und Flächen image:../../bilder/umap/flaeche_icon.PNG["Flächen-Icon", 25, 25] auf die Karte eintragen wenn Sie möchten.
* Nun zur eigentlichen "Story". Der wichtigste Schritt ist das Aktivieren der Diashow unter "Einstellungen image:../../bilder/umap/story-map_erstellen/zahnrad_icon.png["Zahnrad-Icon", 25, 25] -> Diashow -> Diashowmodus" aktivieren. Nach dem Speichern der Einstellungen müssen Sie wahrscheinlich mit F5 erneuern.

== Beschreibung hinzufügen

Da Sie nun verschiedene Punkte der Karte hinzugefügt haben, können wir jetzt jeden Punkt noch mit einer Beschreibung ergänzen. Diese Beschreibungen werden während der Diashow dargestellt.

Um eine Beschreibung hinzuzufügen, klicken Sie auf den Punkt, den Sie editieren möchten (im Editiermodus) und schreiben Sie ihren Text in die Box "Beschreibung".
Schreiben Sie zusätzlich in der Textbox Name noch einen geeigneten Namen für den Punkt, da wir diesen später brauchen werden.

[NOTE]
====
Um eine schöne Beschreibung zu erstellen haben wir für Sie einige Tipps:

	* Um eine kursive Schrift zu machen, brauchen Sie `+*Ein Stern*+`.
	* Um eine fette Schrift zu machen, brauchen Sie `+**Zwei Sterne**+`.
	* Um Überschriften zu machen brauchen Sie `# Titel`. Je mehr `#` desto kleiner die Überschrift.
====

Um ein Bild in die Beschreibung hinzuzufügen, brauchen Sie zuerst den Link zum Bild.
Danach brauchen Sie folgenden Text einzugeben: `{{Hier der Link zum Bild}}`

Ihre Beschreibung sollte nun etwa so aussehen:

image::../../bilder/umap/story-map_erstellen/beschreibung.PNG["Text in der Beschreibung", 293, 418]

IMPORTANT: Vergewissern Sie sich, dass der Link eine korrekte Endung hat, wie zum Beispiel `.jpeg, .jpg, .png, .svg` etc.

Fügen Sie nun jedem Punkt eine Beschreibung hinzu und wenn Sie zufrieden sind mit dem Ergebnis können Sie auf die Schaltfläche "Speichern" oben rechts klicken und den Editiermodus verlassen.

Durch einen Klick auf die Play-Schaltfläche können Sie die Diashow starten und ihre Storymap anschauen.

== Optionale Einstellungen

* Sie können das Aussehen von Pins unter "Einstellungen -> Standard-Formeigenschaften -> Bildzeichenform" ändern.
* Wenn Sie die Reihenfolge, in der die Popups in der Diashow angezeigt werden, ändern wollen, tun Sie das, indem Sie ihren Objekten eine eigene Eigenschaft (zum Beispiel "Index") hinzufügen. Um Ihren Objekten weitere Eigenschaften hinzuzufügen, müssen Sie auf die Ebenenverwaltung image:../../bilder/umap/story-map_erstellen/ebene_icon.png["Ebenen-Icon", 25 ,25] gehen und dann auf das winzige Symbol "Merkmale in einer Tabelle bearbeiten" image:../../bilder/umap/story-map_erstellen/merkmal_bearbeiten.png["Merkmal-Icon", 25, 25] klicken. Oben in der Seitenleiste erscheint dann eine Schaltfläche image:../../bilder/umap/story-map_erstellen/merkmal_hinzufügen.png["Ein-Merkmal-Hinzufügen-Icon", 100, 20]. Diese Eigenschaft können Sie dann unter Einstellungen -> Standardeigenschaften -> Sortierschlüssel auswählen. (Hier wird Ihnen keine Auswahl gestellt - Sie müssen den Namen des Feldes selber eintragen!)
* Sie können die Informationen des Popups auch in der Seitenleiste anzeigen lassen. Dazu gehen Sie unter "Einstellungen -> Standard-Interaktionsoptionen -> Popupstil" und wählen "Seitenleiste" aus. Nach dem Speichern und Erneuern der Website, sollten die Popup-Informationen in der Seitenleiste angezeigt werden.

== Merkmale hinzufügen (Fortgeschritten)

Für eine kleine Storymap wie die, die wir jetzt gerade erstellt haben, ist es einfacher wenn wir die Beschreibung immer selber schreiben. Doch wenn wir sehr viele Punkte auf der Karte haben, kann es sehr mühsam sein für jeden Punkt einzeln die Beschreibung zu schreiben. Um uns diesen Vorgang zu vereinfachen, können wir diese Informationen mit Merkmalen speichern.

Um ein Merkmal zu erstellen, gehen Sie im Editiermodus auf die Ebenenverwaltung image:../../bilder/umap/story-map_erstellen/ebene_icon.png["Ebenen-Icon", 25 ,25]. Danach klicken sie oben im Ebenenmenu auf das winzige Symbol "Merkmale in einer Tabelle bearbeiten" image:../../bilder/umap/story-map_erstellen/merkmal_bearbeiten.png["Merkmal-Icon", 25, 25]. Nun sollten Sie eine Tabelle in der Seitenleiste sehen mit einer Spalte "name". Erstellen Sie nun weitere Spalten indem Sie auf die Schaltfläche image:../../bilder/umap/story-map_erstellen/merkmal_hinzufügen.png["Ein-Merkmal-Hinzufügen-Icon", 100, 20] klicken. Zwei weitere Spalten, die sie sicherlich brauchen sind "bildurl" und "text". Wir haben im Beispiel noch eine weitere Spalte "oeffnungszeiten" hinzugefügt. Diese ist jedoch optional und natürlich können Sie auch andere Spalten hinzufügen wenn Sie möchten.

Füllen Sie die neu erstellten Spalten mit Werten und schliessen Sie die Seitenleiste wieder. Das Ergebnis sollte etwa so aussehen:

Bild

Um diese Werte nun aus der Tabelle auch zu brauchen, müssen Sie für jeden Punkt die Beschreibung mit diesem Text ersetzten:

....
{text}
{{{bildurl}}}
{oeffnungszeiten}
....

NOTE: Wenn Sie keine Spalte "oeffungszeiten" haben oder generell andere Spaltennamen genutzt haben, müssen Sie diese entsprechend abändern oder entfernen.

Von nun an müssen Sie für die neuen Punkte auf der Karte nur noch die Informationen in der Tabelle ergänzen und in der Beschreibung den obigen Text eingeben.

uMap und das OpenSchoolMaps Projekt basieren auf OpenStreetMap (https://osm.org).

IMPORTANT: Beim Erstellen einer uMap werden die Daten in OpenStreetMap nicht verändert, sondern nur "darauf gezeichnet".